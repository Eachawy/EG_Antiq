# ============================================
# Kemetra Production Environment Variables
# ============================================
# Copy this file to .env.production and fill in your actual values
# SECURITY: Never commit .env.production to version control!

# ============================================
# Node Environment
# ============================================
NODE_ENV=production

# ============================================
# Database Configuration
# ============================================
# PostgreSQL connection
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD_HERE
POSTGRES_DB=Antiq_db
DATABASE_URL=postgresql://postgres:CHANGE_ME_SECURE_PASSWORD_HERE@postgres:5432/Antiq_db?schema=public

# ============================================
# Redis Configuration
# ============================================
REDIS_URL=redis://redis:6379

# ============================================
# JWT Secrets
# ============================================
# IMPORTANT: Generate strong random secrets (minimum 32 characters)
# Use: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_GENERATE_RANDOM_SECRET_MIN_32_CHARS
PORTAL_JWT_SECRET=CHANGE_ME_GENERATE_RANDOM_SECRET_MIN_32_CHARS

# JWT Token Expiry
ACCESS_TOKEN_EXPIRY=15m
REFRESH_TOKEN_EXPIRY=7d

# ============================================
# Application URLs
# ============================================
API_URL=https://api.kemetra.org
FRONTEND_URL=https://admin.kemetra.org
PORTAL_URL=https://kemetra.org

# ============================================
# OAuth Configuration (Portal)
# ============================================
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Facebook OAuth
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret

# Apple OAuth
APPLE_CLIENT_ID=your-apple-client-id
APPLE_TEAM_ID=your-apple-team-id
APPLE_KEY_ID=your-apple-key-id
APPLE_PRIVATE_KEY=your-apple-private-key

# ============================================
# Email Configuration
# ============================================
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_FROM=noreply@kemetra.org
EMAIL_FROM_NAME=Kemetra

# ============================================
# Monitoring Configuration
# ============================================
# Grafana Admin Credentials
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_SECURE_PASSWORD_HERE
GRAFANA_ROOT_URL=http://your-server-ip:3001

# ============================================
# Rate Limiting
# ============================================
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# ============================================
# Logging
# ============================================
LOG_LEVEL=info
LOG_FORMAT=json

# ============================================
# File Upload Configuration
# ============================================
MAX_FILE_SIZE=10485760
UPLOAD_PATH=/app/uploads

# ============================================
# CORS Configuration
# ============================================
CORS_ORIGIN=https://admin.kemetra.org,https://kemetra.org,https://www.kemetra.org
CORS_CREDENTIALS=true

# ============================================
# Session Configuration
# ============================================
SESSION_SECRET=CHANGE_ME_GENERATE_RANDOM_SECRET_MIN_32_CHARS
SESSION_MAX_AGE=86400000

# ============================================
# API Configuration
# ============================================
API_PREFIX=/api/v1
API_PORT=3000

# ============================================
# Optional: Feature Flags
# ============================================
ENABLE_SWAGGER=false
ENABLE_AUDIT_LOG=true
ENABLE_API_VERSIONING=true

# ============================================
# Optional: External Services
# ============================================
# AWS S3 (if using for file storage)
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=kemetra-uploads

# Sentry (Error Tracking)
# SENTRY_DSN=your-sentry-dsn

# Google Analytics
# GA_TRACKING_ID=UA-XXXXX-Y

# ============================================
# Security Headers
# ============================================
HELMET_ENABLED=true
RATE_LIMIT_ENABLED=true

# ============================================
# Health Check Configuration
# ============================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_DATABASE=true
HEALTH_CHECK_REDIS=true

# ============================================
# Notes:
# ============================================
# 1. Generate secure random secrets: openssl rand -base64 32
# 2. Never use default passwords in production
# 3. Keep this file secure and never commit it to git
# 4. Restart services after changing environment variables
# 5. Validate all URLs match your domain configuration
